<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VeriNews • Search verified news</title>
    <meta name="description" content="A clean news search UI powered by your Python backend + NewsAPI." />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg"></div>

    <header class="topbar">
      <div class="brand" aria-label="VeriNews">
        <div class="brand__mark" aria-hidden="true">VN</div>
        <div class="brand__text">
          <div class="brand__name">VeriNews</div>
          <div class="brand__tag">Find articles you can cite</div>
        </div>
      </div>

      <div class="topbar__actions">
        <button class="icon-btn" id="themeToggle" type="button" aria-label="Toggle theme" title="Toggle theme">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path
              d="M21 12.8A8.5 8.5 0 1 1 11.2 3a6.5 6.5 0 1 0 9.8 9.8Z"
              fill="currentColor"
            />
          </svg>
        </button>
        <a class="pill" href="https://newsapi.org" target="_blank" rel="noreferrer noopener">Powered by NewsAPI</a>
      </div>
    </header>

    <main class="container">
      <section class="search-card" aria-label="Search">
        <div class="search-card__top">
          <h1 class="h1">Search the news</h1>
          <p class="muted">
            Choose an endpoint, type a query, optionally set filters, and get clean results.
          </p>
        </div>

        <div class="controls">
          <div class="segmented" role="tablist" aria-label="Endpoint">
            <button class="segmented__btn is-active" id="tabEverything" type="button" data-endpoint="everything" role="tab" aria-selected="true">
              Everything
            </button>
            <button class="segmented__btn" id="tabTop" type="button" data-endpoint="top-headlines" role="tab" aria-selected="false">
              Top headlines
            </button>
          </div>

          <div class="search-row">
            <div class="search-input">
              <label class="sr-only" for="query">Keywords</label>
              <input
                id="query"
                type="text"
                inputmode="search"
                placeholder="e.g. AI regulation, OpenAI, climate policy"
                autocomplete="off"
              />
              <button id="clearBtn" class="ghost" type="button" aria-label="Clear search" title="Clear">Clear</button>
            </div>
            <button id="searchBtn" class="primary" type="button">
              <span class="primary__text">Search</span>
              <span class="primary__kbd" aria-hidden="true">↵</span>
            </button>
          </div>
        </div>

        <details class="advanced" open>
          <summary>
            <span>Filters</span>
            <span class="muted">(optional)</span>
          </summary>

          <div class="filters" role="group" aria-label="Filters">
            <!-- Everything-only -->
            <div class="field" data-scope="everything">
              <label for="language">Language</label>
              <select id="language">
                <option value="">Any</option>
                <option value="en">English</option>
                <option value="ru">Russian</option>
                <option value="de">German</option>
                <option value="fr">French</option>
                <option value="es">Spanish</option>
                <option value="it">Italian</option>
                <option value="pt">Portuguese</option>
                <option value="nl">Dutch</option>
              </select>
            </div>

            <div class="field" data-scope="everything">
              <label for="sort_by">Sort</label>
              <select id="sort_by">
                <option value="publishedAt" selected>Newest first</option>
                <option value="relevancy">Most relevant</option>
                <option value="popularity">Most popular</option>
              </select>
            </div>

            <div class="field" data-scope="everything">
              <label for="from">From</label>
              <input id="from" type="date" />
            </div>

            <div class="field" data-scope="everything">
              <label for="to">To</label>
              <input id="to" type="date" />
            </div>

            <!-- Top-headlines-only -->
            <div class="field" data-scope="top-headlines" hidden>
              <label for="country">Country</label>
              <select id="country">
                <option value="">Any</option>
                <option value="us">United States</option>
                <option value="gb">United Kingdom</option>
                <option value="nl">Netherlands</option>
                <option value="de">Germany</option>
                <option value="fr">France</option>
                <option value="it">Italy</option>
                <option value="es">Spain</option>
                <option value="ca">Canada</option>
                <option value="au">Australia</option>
                <option value="ru">Russia</option>
                <option value="ua">Ukraine</option>
                <option value="tr">Turkey</option>
              </select>
            </div>

            <div class="field" data-scope="top-headlines" hidden>
              <label for="category">Category</label>
              <select id="category">
                <option value="">Any</option>
                <option value="business">Business</option>
                <option value="entertainment">Entertainment</option>
                <option value="general">General</option>
                <option value="health">Health</option>
                <option value="science">Science</option>
                <option value="sports">Sports</option>
                <option value="technology">Technology</option>
              </select>
            </div>

            <!-- Common -->
            <div class="field">
              <label for="page_size">Results per page</label>
              <div class="range">
                <input id="page_size" type="range" min="10" max="100" step="10" value="20" />
                <output id="pageSizeOut" for="page_size">20</output>
              </div>
            </div>
          </div>
        </details>

        <div class="status" id="status" role="status" aria-live="polite"></div>
      </section>

      <section class="results" aria-label="Results">
        <div class="results-bar">
          <div class="results-meta" id="resultsMeta"></div>
          <div class="pager" aria-label="Pagination">
            <button id="prevPage" class="ghost" type="button">← Prev</button>
            <div class="pager__text" id="pageIndicator">Page 1</div>
            <button id="nextPage" class="ghost" type="button">Next →</button>
          </div>
        </div>

        <div class="grid" id="articles"></div>
      </section>
    </main>

    <footer class="footer">
      <div class="muted">
        Tip: you can set an API base via <span class="mono">?api=http://localhost:8000</span>
      </div>
    </footer>

    <script src="script.js" defer></script>
  </body>
</html>
